{"version":3,"sources":["images/logo.svg","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/PopupEditAvatar/PopupEditAvatar.js","components/PopupEditProfile/PopupEditProfile.js","components/PopupAddPlace/PopupAddPlace.js","components/PopupDeleteConfirm/PopupDeleteConfirm.js","components/PopupImage/PopupImage.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","url","title","likes","owner","id","onCardClick","onRemoveButtonClick","onCardLike","currentUser","useContext","isOwn","_id","elementRemoveButtonClassName","isLiked","some","i","elementLikeButtonClassName","type","onClick","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","name","about","map","card","link","Footer","PopupWithForm","isOpen","onClose","buttonValue","children","onSubmit","PopupEditAvatar","onUpdateAvatar","buttonText","inputRef","useRef","e","preventDefault","current","value","placeholder","ref","required","PopupEditProfile","onUpdateUser","useState","setName","description","setDescription","useEffect","minLength","maxLength","onChange","target","PopupAddPlace","setTitle","setLink","console","log","PopupDeleteConfirm","onDelete","ImagePopup","api","checkResult","res","ok","json","Promise","reject","status","this","_url","_authorizationToken","fetch","headers","authorization","then","data","method","body","JSON","stringify","item","cardId","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteConfirmPopupOpen","setIsDeleteConfirmPopupOpen","setCards","selectedCard","setSelectCard","setCurrentUser","deletingCardId","setDeletingCardId","buttonAvatarText","setButtonAvatarText","buttonProfileText","setButtonProfileText","buttonAddPlaceText","setButtonAddPlaceText","buttonDeleteText","setButtonDeleteText","getInitialCards","initialCards","catch","err","getUserInfo","closeAllPopups","handleCardDelete","deleteCard","state","filter","c","finally","Provider","removeLike","newCard","addLike","onCardDelete","editAvatar","editProfile","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9de83d1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\r\nimport logo from '../../images/logo.svg'\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n        <img src={logo} alt=\"лого сайта 'Место'\" className=\"header__logo\" />\r\n      </header>\r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport default function Card({\r\n  url,\r\n  alt,\r\n  title,\r\n  likes,\r\n  owner,\r\n  id,\r\n  onCardClick,\r\n  onRemoveButtonClick,\r\n  onCardLike,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const handleClick = () => {\r\n    onCardClick(url, title);\r\n  };\r\n\r\n  const handLikeClick = () => {\r\n    onCardLike(likes, id);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    onRemoveButtonClick(id);\r\n  }\r\n\r\n  const isOwn = owner._id === currentUser._id;\r\n  const elementRemoveButtonClassName = `button element__remove-button ${\r\n    isOwn ? \"element__remove-button_visible\" : \"element__remove-button_hidden\"\r\n  }`;\r\n\r\n  const isLiked = likes.some((i) => i._id === currentUser._id);\r\n  const elementLikeButtonClassName = `button element__like-button ${\r\n    isLiked && \"element__like-button_active\"\r\n  }`;\r\n  return (\r\n    <article className=\"element\">\r\n      <button\r\n        type=\"button\"\r\n        className={elementRemoveButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        className=\"element__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\">{title}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={elementLikeButtonClassName}\r\n            onClick={handLikeClick}\r\n          ></button>\r\n          <p className=\"element__like-counter\">{likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport Card from '../Card/Card';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onRemoveButtonClick,\r\n  cards,\r\n  onCardLike,\r\n  }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__image-container\" onClick={onEditAvatar}>\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"фотография обладателя профиля\"\r\n            className=\"profile__image\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            url={card.link}\r\n            alt={card.name}\r\n            title={card.name}\r\n            likes={card.likes}\r\n            owner={card.owner}\r\n            id={card._id}\r\n            key={card._id}\r\n            onCardClick={onCardClick}\r\n            onRemoveButtonClick={onRemoveButtonClick}\r\n            onCardLike={onCardLike}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function PopupWithForm({ title, name, isOpen, onClose, buttonValue, children, onSubmit }) {\r\n    return (\r\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\r\n        <div className=\"popup__container\">\r\n          <button type=\"button\" className=\"popup__close-button button\" onClick={onClose}></button>\r\n          <h2 className=\"popup__title\">{title}</h2>\r\n          <form name={name} className=\"form\" onSubmit={onSubmit}>\r\n            {children}\r\n            <button type=\"submit\" className=\"popup__save-button popup__submit-button form__submit\">{buttonValue}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  );\r\n}","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupEditAvatar({ isOpen, onClose, onUpdateAvatar, buttonText }) {\r\n  const inputRef = useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <PopupWithForm\r\n      title={\"Обновить аватар\"}\r\n      name={\"edit-avatar\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"avatar\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_avatar form__input\"\r\n        id=\"avatar-input\"\r\n        placeholder=\"Обновить аватар\"\r\n        ref={inputRef}\r\n        required\r\n      />\r\n      <span className=\"form__input-error avatar-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupEditProfile({ isOpen, onClose, onUpdateUser, buttonText }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({ name, about: description });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]); \r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Редактировать профиль\"}\r\n      name={\"edit-profile\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name form__input\"\r\n        id=\"name-input\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Ваше имя\"\r\n        value={name}\r\n        onChange={e => setName(e.target.value)}\r\n      />\r\n      <span className=\"form__input-error name-input-error\"></span>\r\n      <input\r\n        name=\"about\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_about form__input\"\r\n        id=\"about-input\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"Расскажите о себе\"\r\n        value={description}\r\n        onChange={e => setDescription(e.target.value)}\r\n      />\r\n      <span className=\"form__input-error about-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupAddPlace({ isOpen, onClose, onAddPlace, buttonText }) {\r\n  const [title, setTitle] = useState('');\r\n  const [link, setLink] = useState('');\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    console.log(title, link);\r\n\r\n    onAddPlace({\r\n      name: title,\r\n      link\r\n    });\r\n\r\n    setTitle('');\r\n    setLink('');\r\n  }\r\n  \r\n  return (\r\n    <PopupWithForm\r\n      title={\"Новое место\"}\r\n      name={\"add-place\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"title\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_title form__input\"\r\n        id=\"title-input\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        value={title}\r\n        onChange={e => setTitle(e.target.value)}\r\n        required\r\n      />\r\n      <span className=\"form__input-error title-input-error\"></span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link form__input\"\r\n        id=\"link-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        value={link}\r\n        onChange={e => setLink(e.target.value)}\r\n        required\r\n      />\r\n      <span className=\"form__input-error link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupDeleteConfirm({ isOpen, onClose, onDelete, buttonText }) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Вы уверены?\"}\r\n      name={\"delete-confirm\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImagePopup({url, title, onClose}) {\r\n  return (\r\n    <div className={`popup popup-image ${title && \"popup_opened\"}`}>\r\n        <div className=\"popup__container popup-image__container\">\r\n          <button type=\"button\" className=\"popup__close-button popup-image__close-button button\" onClick={onClose}></button>\r\n          <figure className=\"popup-image__figure\">\r\n            <img className=\"popup-image__image\" src={url} alt={title} />\r\n            <figcaption className=\"popup-image__caption\">{title}</figcaption>\r\n          </figure>\r\n        </div>\r\n      </div>\r\n  );\r\n}","class Api {\r\n  constructor(url) {\r\n    this._url = url;\r\n    this._authorizationToken = '4bbad6bd-2811-470e-a5ed-e059873eda41';\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._url +'/users/me', {\r\n      headers: {\r\n      authorization: this._authorizationToken\r\n    }})\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._url +'/cards', {\r\n      headers: {\r\n      authorization: this._authorizationToken\r\n    }})\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  editProfile(data){\r\n    return fetch(this._url +'/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  addCard(item) {\r\n    return fetch(this._url +'/cards', {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(item)\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(this._url + '/cards/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(this._url + '/cards/likes/' + cardId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(this._url + '/cards/likes/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  editAvatar(avatar){\r\n    return fetch(this._url +'/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(avatar)\r\n    })\r\n    .then(this.checkResult);\r\n  }\r\n\r\n  checkResult = res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n  }\r\n}\r\n\r\nexport const api = new Api('https://nomoreparties.co/v1/cohort-28');\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from './Header/Header';\r\nimport Main from './Main/Main';\r\nimport Footer from './Footer/Footer';\r\nimport PopupEditAvatar from './PopupEditAvatar/PopupEditAvatar';\r\nimport PopupEditProfile from './PopupEditProfile/PopupEditProfile';\r\nimport PopupAddPlace from './PopupAddPlace/PopupAddPlace';\r\nimport PopupDeleteConfirm from './PopupDeleteConfirm/PopupDeleteConfirm';\r\nimport ImagePopup from './PopupImage/PopupImage';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { api } from '../utils/api'\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeleteConfirmPopupOpen, setIsDeleteConfirmPopupOpen] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({name: '', about: ''});\r\n  const [deletingCardId, setDeletingCardId] = useState('');\r\n  const [buttonAvatarText, setButtonAvatarText] = useState('Сохранить');\r\n  const [buttonProfileText, setButtonProfileText] = useState('Сохранить');\r\n  const [buttonAddPlaceText, setButtonAddPlaceText] = useState('Создать');\r\n  const [buttonDeleteText, setButtonDeleteText] = useState('Да');\r\n\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards()\r\n      .then(initialCards => {\r\n        setCards(initialCards);\r\n      }).catch((err) => {\r\n        console.log(err);\r\n    \r\n        return [];\r\n      });\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    api.getUserInfo().then(res => {\r\n      setCurrentUser(res);\r\n    }).catch((err) => {\r\n      console.log(err);\r\n  \r\n      return [];\r\n    });\r\n  }, []);\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleRemoveButtonClick = (id) => {\r\n    setDeletingCardId(id);\r\n    setIsDeleteConfirmPopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (url, title) => {\r\n    setSelectCard({url, title});\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeleteConfirmPopupOpen(false);\r\n\r\n    setSelectCard({});\r\n  };\r\n\r\n  const handleUpdateUser = (name, about) => {\r\n    setButtonProfileText('Сохранение...');\r\n    api\r\n      .editProfile(name, about)\r\n      .then((res) => setCurrentUser(res))\r\n      .then(() => {\r\n        closeAllPopups();\r\n        setButtonProfileText(\"Сохранить\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  }\r\n\r\n  const handleUpdateAvatar = (avatar) => {\r\n    setButtonAvatarText('Сохранение...');\r\n    api\r\n      .editAvatar(avatar)\r\n      .then((res) => setCurrentUser(res))\r\n      .then(() => {\r\n        closeAllPopups();\r\n        setButtonAvatarText(\"Сохранить\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  }\r\n\r\n  const handleAddPlaceSubmit = (name, link) => {\r\n    setButtonAddPlaceText('Сохранение...');\r\n    api\r\n      .addCard(name, link)\r\n      .then((newCard) => setCards([newCard, ...cards]))\r\n      .then(() => {\r\n        closeAllPopups();\r\n        setButtonAddPlaceText(\"Создать\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  }\r\n  \r\n  const handleCardDelete = () => {\r\n    setButtonDeleteText('Удаление...');\r\n    api\r\n      .deleteCard(deletingCardId)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== deletingCardId));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      }).finally(() => {\r\n        closeAllPopups();\r\n        setButtonDeleteText(\"Да\");\r\n      });\r\n  }\r\n\r\n  const handleCardLike = (likes, id) =>  {\r\n    const isLiked = likes.some(i => i._id === currentUser._id);\r\n    \r\n    if (isLiked) {\r\n      api\r\n        .removeLike(id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => (c._id === id ? newCard : c)));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n\r\n          return [];\r\n        });\r\n    } else {\r\n      api\r\n        .addLike(id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => (c._id === id ? newCard : c)));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n\r\n          return [];\r\n        });\r\n    }\r\n}\r\n  \r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n      <Main\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onCardClick={handleCardClick}\r\n        onRemoveButtonClick={handleRemoveButtonClick}\r\n        cards={cards}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n      />\r\n      <Footer />\r\n\r\n      <PopupEditAvatar\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        buttonText={buttonAvatarText}\r\n      />\r\n\r\n      <PopupEditProfile\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n        buttonText={buttonProfileText}\r\n      />\r\n\r\n      <PopupAddPlace\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n        buttonText={buttonAddPlaceText}\r\n      />\r\n\r\n      <ImagePopup\r\n        onClose={closeAllPopups}\r\n        url={selectedCard.url}\r\n        title={selectedCard.title}\r\n      />\r\n\r\n      <PopupDeleteConfirm\r\n        isOpen={isDeleteConfirmPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onDelete={handleCardDelete}\r\n        buttonText={buttonDeleteText}\r\n      />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}